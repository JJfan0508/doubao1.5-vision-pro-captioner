# ComfyUI 图像到关键词节点使用示例

本文档提供了在ComfyUI中使用图像到关键词节点的一些常见工作流示例。

## 示例1：基本图像分析工作流

这个工作流展示了如何使用一张现有图像，通过节点分析获取关键词，然后将这些关键词用于生成新图像。

![基本工作流](https://i.imgur.com/example1.png)

### 工作流步骤

1. **加载图像节点** - 加载您想要分析的图像
2. **图像到关键词节点** - 分析图像并提取关键词
   - API类型设置为 "openai"
   - 自定义提示词："详细描述这张图片的内容、风格和构图"
3. **提示词编辑节点** - 可选步骤，编辑或增强AI返回的关键词
4. **KSampler节点** - 使用提取的关键词生成新图像
5. **保存图像节点** - 保存生成的图像

### 工作流JSON

您可以通过复制以下JSON并在ComfyUI中导入来重现此工作流（需要替换API密钥和URL）：

```json
{
  "示例JSON将在实际使用时提供"
}
```

## 示例2：图像批量分析工作流

这个工作流展示了如何批量处理多张图像，并为每张图像生成关键词描述。

![批量工作流](https://i.imgur.com/example2.png)

### 工作流步骤

1. **批量加载图像节点** - 从文件夹加载多张图像
2. **迭代器节点** - 逐个处理图像
3. **图像到关键词节点** - 分析每张图像
   - API类型设置为 "ali"
   - 自定义提示词："生成详细的图像描述标签，以逗号分隔"
4. **文本保存节点** - 将生成的关键词保存到文本文件

## 示例3：图像风格分析与风格转换

这个工作流展示了如何使用节点分析图像风格，然后将该风格应用到另一张图像上。

![风格转换工作流](https://i.imgur.com/example3.png)

### 工作流步骤

1. **加载参考图像节点** - 加载含有目标风格的参考图像
2. **图像到关键词节点** - 分析参考图像的风格
   - API类型设置为 "openai"
   - 自定义提示词："仅描述这张图片的艺术风格和视觉风格元素，不要描述内容"
3. **加载内容图像节点** - 加载要应用风格的目标图像
4. **风格应用节点** - 将提取的风格应用到目标图像
5. **保存图像节点** - 保存风格转换后的图像

## 示例4：结合ControlNet的高级工作流

这个工作流展示了如何结合图像到关键词节点和ControlNet来实现更精确的图像生成。

![ControlNet工作流](https://i.imgur.com/example4.png)

### 工作流步骤

1. **加载图像节点** - 加载参考图像
2. **预处理节点** - 提取图像的边缘、深度或姿势信息（用于ControlNet）
3. **图像到关键词节点** - 提取图像的内容描述
   - API类型设置为 "baidu"
   - 自定义提示词："详细描述图像内容但不包括构图和背景"
4. **增强提示词节点** - 增强或修改关键词
5. **KSampler (ControlNet)节点** - 使用ControlNet和关键词生成新图像
6. **保存图像节点** - 保存最终结果

## 高级技巧

1. **分离内容和风格分析** - 使用两个图像到关键词节点，一个关注内容描述，一个关注风格描述
2. **关键词过滤** - 通过自定义提示词，可以专注于图像的特定方面（如"只描述人物表情"）
3. **语言转换** - 可以请求API返回特定语言的关键词（如"用英语描述图像内容"）
4. **与LORA结合** - 将提取的关键词与特定LORA模型结合，产生风格一致的图像 